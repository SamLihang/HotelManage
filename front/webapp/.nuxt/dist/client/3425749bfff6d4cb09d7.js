(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{180:function(t,e,o){var a=o(197);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("6d05d1c8",a,!0,{sourceMap:!1})},187:function(t,e,o){"use strict";var a=o(2),n=o(14),r=o(18),s=o(96),i=o(47),l=o(10),c=o(48).f,u=o(64).f,d=o(9).f,m=o(194).trim,f=a.Number,p=f,h=f.prototype,v="Number"==r(o(63)(h)),g="trim"in String.prototype,b=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){var o,a,n,r=(e=g?e.trim():m(e,3)).charCodeAt(0);if(43===r||45===r){if(88===(o=e.charCodeAt(2))||120===o)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+e}for(var s,l=e.slice(2),c=0,u=l.length;c<u;c++)if((s=l.charCodeAt(c))<48||s>n)return NaN;return parseInt(l,a)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof f&&(v?l(function(){h.valueOf.call(o)}):"Number"!=r(o))?s(new p(b(e)),o,f):b(e)};for(var _,y=o(6)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;y.length>S;S++)n(p,_=y[S])&&!n(f,_)&&d(f,_,u(p,_));f.prototype=h,h.constructor=f,o(11)(a,"Number",f)}},194:function(t,e,o){var a=o(5),n=o(17),r=o(10),s=o(195),i="["+s+"]",l=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(t,e,o){var n={},i=r(function(){return!!s[t]()||"​"!="​"[t]()}),l=n[t]=i?e(d):s[t];o&&(n[o]=l),a(a.P+a.F*i,"String",n)},d=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},195:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},196:function(t,e,o){"use strict";var a=o(180);o.n(a).a},197:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,"\n.bscroll[data-v-3ab7c46c]{overflow:scroll;height:1000px;-webkit-overflow-scrolling:touch\n}\n.bscroll .loadmore[data-v-3ab7c46c]{width:100%;-webkit-transform:translateZ(0);transform:translateZ(0)\n}\n.bscroll .loadmore .mint-loadmore-bottom[data-v-3ab7c46c]{text-align:center\n}\n.bscroll .loadmore ul li[data-v-3ab7c46c]{margin:0;padding:0;height:100px;list-style:none outside none\n}\n.bscroll .loadmore span[data-v-3ab7c46c]{font-size:.4rem;line-height:.8rem\n}",""])},198:function(t,e,o){"use strict";o(187);var a={name:"BScroll",data:function(){return{allLoaded:!1,topStatus:"",bottomStatus:"",topDistance:70,bottomDistance:70,distanceIndex:2,maxDistance:200,loadable:!0}},props:{width:{type:String,default:"100%"},height:{type:Number,default:1e3},bg:{type:String,default:"none"},startScroll:{type:Number,default:0}},methods:{getScrollPos:function(){return this.$refs.scrollContent.scrollTop},scrollTo:function(t){this.$refs.scrollContent.scrollTop=t},handleTopChange:function(t){this.topStatus=t},handleBottomChange:function(t){this.bottomStatus=t},loadTop:function(){this.$emit("loadTop")},loadBottom:function(){this.$emit("loadBottom")},topLoaded:function(){var t=this;setTimeout(function(){t.$refs.loadmore.onTopLoaded()},1e3)},bottomLoaded:function(t){var e=this;!0===t&&(this.loadable=!1),setTimeout(function(){e.allLoaded=t,e.$refs.loadmore.onBottomLoaded()},1e3)}},mounted:function(){this.startScroll&&this.scrollTo(this.startScroll)}},n=(o(196),o(15)),r=Object(n.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"scrollContent",staticClass:"bscroll",style:{height:t.height+"px",width:""+t.width,background:t.bg}},[o("mt-loadmore",{ref:"loadmore",staticClass:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,maxDistance:t.maxDistance,topDistance:t.topDistance,bottomDistance:t.bottomDistance,distanceIndex:t.distanceIndex},on:{"top-status-change":t.handleTopChange,"bottom-status-change":t.handleBottomChange}},[o("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[o("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.topStatus,expression:"topStatus === 'pull'"}]},[t._v("下拉刷新")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[t._v("加载中...")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.topStatus,expression:"topStatus === 'drop'"}]},[t._v("释放更新")])]),t._v(" "),t._t("default",[o("ul",t._l(100,function(t,e){return o("li",{key:e})}))]),t._v(" "),o("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[t.loadable?o("span",[o("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.bottomStatus,expression:"bottomStatus === 'pull'"}]},[t._v("上拉加载更多")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[t._v("加载中...")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.bottomStatus,expression:"bottomStatus === 'drop'"}]},[t._v("释放加载")])]):o("span",[t._v("暂无更多内容")])])],2)],1)},[],!1,null,"3ab7c46c",null);r.options.__file="baseScroll.vue";e.a=r.exports},262:function(t,e,o){var a=o(478);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("23de8f78",a,!0,{sourceMap:!1})},477:function(t,e,o){"use strict";var a=o(262);o.n(a).a},478:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,"",""])},528:function(t,e,o){"use strict";o.r(e);var a,n=o(16),r=o.n(n),s=(o(31),o(32),o(19),o(49),o(4)),i=o.n(s),l=o(26),c=o(198),u={asyncData:(a=i()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.app;case 1:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),data:function(){return{dataSource:[],data:[],options:[],values:[]}},components:{baseScroll:c.a},methods:{goback:function(){this.$router.go(-1)},loadTop:function(){var t=this;setTimeout(function(){t.$refs.scroll.topLoaded()},1e3)},loadBottom:function(){var t=this;setTimeout(function(){t.$refs.scroll.bottomLoaded()},1e3)},save:function(){var t=this,e=JSON.parse(JSON.stringify(this.menu)),o=0;e.some(function(e,a){if(e.category_id==t.$route.query.category_id)return o=a,!0})||(e.push({category_id:+this.$route.query.category_id,category_name:this.$route.query.category_name,categoryItem:[]}),o=e.length-1);var a=!0,n=!1,r=void 0;try{for(var s,i=function(){var a=s.value;if(~t.values.indexOf(a.vegetable_name))t.dataSource.some(function(t){if(t.vegetable_name==a.vegetable_name)return!0})||(a.num=1,a.remark="",e[o].categoryItem.push(a));else if(t.dataSource.some(function(t){if(t.vegetable_name==a.vegetable_name)return!0}))for(var n in e[o].categoryItem)e[o].categoryItem[n].vegetable_name==a.vegetable_name&&e[o].categoryItem.splice(n,1)},l=this.data[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)i()}catch(t){n=!0,r=t}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}this.$store.commit("setMenu",JSON.stringify(e)),this.goback()},getVegetables:function(){var t=this,e=this.$route.query,o=[];e&&e.category_id&&this.$fetch("/vegetable").then(function(e){if(e.data.length){var a=[];e.data.every(function(e){return e.category_id==t.$route.query.category_id&&(a.push(e.vegetable_name),o.push(e)),!0}),t.data=o,t.options=a}})}},computed:r()({},Object(l.b)({height:function(t){return t.height},menu:function(t){return JSON.parse(t.menu)}}),{scrollHeight:function(){return this.height-40-41}}),mounted:function(){var t=this;this.getVegetables(),this.$store.commit("getMenu"),this.$nextTick(function(){t.menu.some(function(e){if(e.category_id==t.$route.query.category_id){var o=[],a=[];return e.categoryItem.forEach(function(t){o.push(t),a.push(t.vegetable_name)}),t.dataSource=o,t.values=a,!0}})})}},d=(o(477),o(15)),m=Object(d.a)(u,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("mt-header",{staticClass:"head",attrs:{title:this.$route.query.category_name||""}},[o("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){return e.stopPropagation(),t.goback(e)}},slot:"left"},[t._v("返回")]),t._v(" "),o("mt-button",{attrs:{slot:"right",icon:"more"},slot:"right"})],1),t._v(" "),o("base-scroll",{ref:"scroll",staticClass:"scroller",attrs:{height:t.scrollHeight},on:{loadTop:t.loadTop,loadBottom:t.loadBottom}},[o("mt-checklist",{attrs:{align:"right",options:t.options},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})],1),t._v(" "),o("mt-button",{staticClass:"saveBtn",attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){return t.save(e)}}},[t._v("保存")])],1)},[],!1,null,"7ecc26ff",null);m.options.__file="category.vue";e.default=m.exports}}]);